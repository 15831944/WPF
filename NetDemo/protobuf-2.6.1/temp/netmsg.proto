package netmsg;

message MsgPack
{
	required	MsgHead								head							= 1;
	optional 	RegistTypeMsg						registtype						= 2;
	
	optional 	QueryDevCntMsg						querydevcntmsg					= 3;
	optional 	QueryDevCntMsgResult				querydevcntmsgresult			= 4;
			
	optional	QueryMsg  							query							= 5;
	optional	AddMsg  							add								= 6;

	optional	QueryMsgResult  					querymsgresult					= 7;
	optional	AddMsgResult  						addmsgresult					= 8;
}



enum NetMsgType{
	NetMsgType_Unknown										= 0;

	NetMsgType_RegistType									= 1;

	NetMsgType_QueryDevCnt									= 2;
	NetMsgType_QueryDevCntResult							= 3;

	NetMsgType_DatabaseAddAsk								= 4;
	NetMsgType_DatabaseAddSuccess							= 5;
	NetMsgType_DatabaseAddError								= 6;

	NetMsgType_DatabaseDeleteAsk							= 7;
	NetMsgType_DatabaseDeleteSuccess						= 8;
	NetMsgType_DatabaseDeleteError							= 9;

	NetMsgType_DatabaseQueryAsk								= 10;
	NetMsgType_DatabaseQuerySuccess							= 11;
	NetMsgType_DatabaseQueryError							= 12;
	
};

message MsgHead{
	required	uint32				globalPackNumber		= 1 [default = 1]; 
    required	int32				totalPack				= 2 [default = 1];        
    required	int32				packIndex				= 3 [default = 1];        
    required	NetMsgType			packtype				= 4 [default = NetMsgType_Unknown];          
}

message RegistTypeMsg{
	required	bool				bDevice					= 1;
}

message QueryDevCntMsg{

}

message QueryDevCntMsgResult{
	required	int32				devCnt					= 1;
}

message QueryMsg{
	required	string				Msg						= 1;
}

message QueryMsgResult{
	required	string				resultData				= 1;
	required	string				resultError				= 2;
}

message AddMsg{
	required	string				TableName				= 1;
	required	string				Msg						= 2;
}

message AddMsgResult{
	required	string				resultError				= 1;
}